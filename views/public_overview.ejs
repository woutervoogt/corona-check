<%
var myList = {
    good: ["angel 1", "angel 2", "angel 3"],
    bad: ["devil 1", "devil 2", "devil 3"]
}

%>
<%- include("partials/header")%>
<%- include("partials/nav-bar")%>
<div class="tri_panel">
    <div class="left_panel">
        <div class="good_list">
            <!-- <%#- include("partials/ticket-list", {listItems: channels.good})%> -->
            <div class="ticket_list">
                <h5 class="info_title">Trusted Sources</h5>
                <div class= "ticket_list_info_space">
                    <!-- Hier komt een lijst met de tickets -->
                    <div class="ticket_list_info_list_container">
                        <% for(var i=0; i<channels.length; i++) { %>
                        <div class="ticket_list_info_list_item" id="<%= channels[i]._id %>">
                            <h4 class="ticket_list_item_channel"><%= channels[i].channelTitle %></h4>
                            <h4 class="ticket_list_item_video"><%= channels[i].videoTitle %></h4>
                        </div>
                        <% } %>
                    </div>
                </div>
            </div>    
        </div>

        <div class="hidden_div_temp_container">
            <div class="hidden_div_temp">
                <div class="scrollspace">
                    <div class="ticket_info">
                        <h5 class="info_title">Informatie</h5>
                        <div class="ticket_info_info_space">
                            <div class="ticket_info_video_details" >
                                <!-- Hier komt een frame met de info over de geselecteerde ticket -->
                                <h3 class="ticket_info_channel_title">Channel: <span></span></h3>
                                <h3 class="ticket_info_video_title">Video: <span></span></h3>
                                <p class="ticket_info_views">Views: <span></span></p>
                                <p class="ticket_info_description">Video Description: <span>
                                         </span>
                                </p>
                            </div>
                        </div>
                        <div class="ticket_info_button_space">
                            <!-- Hier komen een aantal buttons (met bijvoorbeeld links naar de video) -->
                            <a href="https://www.youtube.com/watch?v=<%#= channels[0].videoId%>"><button>Go to video</button></a>
                            <button onclick="infoSpaceContent.videoDetails()">Show more info</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>        
    </div>

    <div class="middle_panel">
        <canvas id="janus_canvas" width="400"></canvas>
    </div>

    <div class="right_panel">
        <div class="bad_list">
            <div class="ticket_list">
                <h5 class="info_title">Suspicious Sources</h5>
                <div class="ticket_list_info_space">
                    <!-- Hier komt een lijst met de tickets -->
                    <div class="ticket_list_info_list_container">
                        <% for(var i=0; i<channels.length; i++) {%>
                            <div class="ticket_list_info_list_item" id="<%= channels[i]._id %>">
                                <h4 class="ticket_list_item_channel"><%= channels[i].channelTitle %></h4>
                                <h4 class="ticket_list_item_video"><%= channels[i].videoTitle %></h4>
                            </div>
                        <% } %>
                    </div>
                </div>
            </div>  
        </div>

        <div class="hidden_div_temp_container">
            <div class="hidden_div_temp">
                <div class="scrollspace">
                    <div class="ticket_info">
                        <h5 class="info_title">Informatie</h5>
                        <div class="ticket_info_info_space">
                            <div class="ticket_info_video_details" >
                                <!-- Hier komt een frame met de info over de geselecteerde ticket -->
                                <h3 class="ticket_info_channel_title">Channel: <span></span></h3>
                                <h3 class="ticket_info_video_title">Video: <span></span></h3>
                                <p class="ticket_info_views">Views: <span></span></p>
                                <p class="ticket_info_description">Video Description: <span></span>
                                </p>
                            </div>
                        </div>
                        <div class="ticket_info_button_space">
                            <!-- Hier komen een aantal buttons (met bijvoorbeeld links naar de video) -->
                            <a href="https://www.youtube.com/watch?v=<%#= channels[0].videoId%>"><button>Go to video</button></a>
                            <button onclick="infoSpaceContent.videoDetails()">Show more info</button>
                        </div>
                    </div>
                </div>
            </div>  
        </div>
    </div>
</div>


<script type="text/javascript">
    const passData = <%- JSON.stringify(channels)%>;
</script>
<script type="text/javascript" src="/js/ticket-info.js"></script>


<script>

var c = document.getElementById("janus_canvas");
var ctx = c.getContext("2d");
window.onresize=resizeCanvas;

function resizeCanvas(){
    c.height = window.innerHeight - 56;
    drawJanus(window.innerHeight-56); 
}

function drawJanus(myHeight){
    ctx = c.getContext("2d");
    var halfPoint = myHeight/2;

    ctx.beginPath();
    ctx.moveTo(200, 0);
    ctx.quadraticCurveTo(100,(halfPoint/2),200,halfPoint);
    ctx.quadraticCurveTo(300,(myHeight-(halfPoint/2)),200,myHeight);
    ctx.lineTo(0, myHeight);
    ctx.lineTo(0,0);
    ctx.closePath();
    ctx.fillStyle = "#black";
    ctx.fill();
}

resizeCanvas();
</script>
<script>
    var triPanel = document.querySelector(".tri_panel");
    var hiddenLeftContainer = document.querySelector(".left_panel .hidden_div_temp_container");
    var hiddenRightContainer = document.querySelector(".right_panel .hidden_div_temp_container");
    var hiddenLeft = document.querySelector(".left_panel .hidden_div_temp");
    var hiddenRight = document.querySelector(".right_panel .hidden_div_temp");
    triPanel.addEventListener("click", changeSide, false);
    var stateCounter = 1;
    var stateCounterPlus = true;

    function changeSide(){ 
        if(stateCounter < 2 && stateCounterPlus === true){
            stateCounter++;
        }
        else if (stateCounter > 0 && stateCounterPlus === false){
            stateCounter--;
        }

        else if (stateCounter <= 0){
            stateCounter = 0;
            stateCounterPlus = true;
            stateCounter++
        }

        else if (stateCounter => 2){
            stateCounter = 2;
            stateCounterPlus = false;
            stateCounter --;
        }

        else{
            return console.log("something went wrong");
        }

        setSliderClass();
    }

    function setSliderClass(){
        switch(stateCounter){
            case 0:
                console.log("dit is 0");
                triPanel.className = "tri_panel_left";
                hiddenLeft.className = "hidden_div_temp";
                hiddenLeftContainer.className = "hidden_div_temp_container";
                hiddenRightContainer.className = "not_so_hidden_div_temp_container";
                hiddenRight.className = "not_so_hidden_div_temp";
                break;
            case 1:
                console.log("dit is 1");
                triPanel.className = "tri_panel";
                hiddenLeft.className = "hidden_div_temp";
                hiddenRight.className = "hidden_div_temp";
                hiddenLeftContainer.className = "hidden_div_temp_container";
                hiddenRightContainer.className = "hidden_div_temp_container";
                break;
            case 2:
                console.log("dit is 2");
                triPanel.className = "tri_panel_right";
                hiddenLeft.className = "not_so_hidden_div_temp";
                hiddenRight.className = "hidden_div_temp";
                hiddenLeftContainer.className = "not_so_hidden_div_temp_container";
                hiddenRightContainer.className = "hidden_div_temp_container";
                break;
        }
    }

</script>

<%- include("partials/footer")%>